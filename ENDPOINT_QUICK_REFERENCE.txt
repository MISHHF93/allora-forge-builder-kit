================================================================================
ALLORA FORGE BUILDER KIT - LAVENDER FIVE TESTNET ENDPOINTS
================================================================================

UPDATED: November 7, 2025
STATUS: ✅ Production Ready

--------------------------------------------------------------------------------
NEW ENDPOINTS (Lavender Five Testnet)
--------------------------------------------------------------------------------

gRPC:      grpc+https://testnet-allora.lavenderfive.com:443
REST API:  https://testnet-rest.lavenderfive.com:443/allora/
RPC:       https://testnet-rpc.lavenderfive.com:443/allora/
WebSocket: wss://testnet-rpc.lavenderfive.com:443/allora/websocket

--------------------------------------------------------------------------------
UPDATED FILES
--------------------------------------------------------------------------------

✅ run_pipeline.py              - Main batch pipeline
✅ run_worker.py                - Continuous event-driven worker
✅ allora_forge_builder_kit/submission.py - Submission module
✅ train.py                     - Training and submission script
✅ tools/refresh_scores.py     - Score refresh utility

--------------------------------------------------------------------------------
ENVIRONMENT VARIABLE OVERRIDES
--------------------------------------------------------------------------------

export ALLORA_GRPC_URL="grpc+https://testnet-allora.lavenderfive.com:443"
export ALLORA_RPC_URL="https://testnet-rpc.lavenderfive.com:443/allora/"
export ALLORA_REST_URL="https://testnet-rest.lavenderfive.com:443/allora/"
export ALLORA_WS_URL="wss://testnet-rpc.lavenderfive.com:443/allora/websocket"

--------------------------------------------------------------------------------
QUICK START
--------------------------------------------------------------------------------

# Start continuous worker with new endpoints
./start_worker.sh

# Run batch pipeline with new endpoints
python3 run_pipeline.py --continuous

# Test connectivity
python3 -c "
from allora_sdk.rpc_client import AlloraRPCClient
from allora_sdk.rpc_client.config import AlloraNetworkConfig

config = AlloraNetworkConfig(
    chain_id='allora-testnet-1',
    url='grpc+https://testnet-allora.lavenderfive.com:443',
    websocket_url='wss://testnet-rpc.lavenderfive.com:443/allora/websocket',
    fee_denom='uallo',
    fee_minimum_gas_price=10.0
)

client = AlloraRPCClient(config)
block = client.get_latest_block()
print(f'✅ Connected! Block: {int(block.header.height):,}')
"

--------------------------------------------------------------------------------
VERIFICATION
--------------------------------------------------------------------------------

# Verify endpoint is working
curl -I https://testnet-rest.lavenderfive.com:443/allora/

# Check configured endpoints in code
python3 -c "
import sys
sys.path.insert(0, '.')
from run_pipeline import DEFAULT_RPC, DEFAULT_REST, DEFAULT_WEBSOCKET
print(f'gRPC: {DEFAULT_RPC}')
print(f'REST: {DEFAULT_REST}')
print(f'WebSocket: {DEFAULT_WEBSOCKET}')
"

# Monitor worker logs for connection status
tail -f data/artifacts/logs/worker_output.log | grep -E "connected|Websocket"

--------------------------------------------------------------------------------
TROUBLESHOOTING
--------------------------------------------------------------------------------

If you experience connection issues:

1. Check network connectivity:
   ping testnet-allora.lavenderfive.com

2. Verify environment variables are not overriding:
   env | grep ALLORA

3. Test WebSocket separately:
   wscat -c wss://testnet-rpc.lavenderfive.com:443/allora/websocket

4. Review detailed documentation:
   cat ENDPOINT_UPDATE.md

--------------------------------------------------------------------------------
SUPPORT
--------------------------------------------------------------------------------

Lavender Five: https://lavenderfive.com
Allora Network: https://allora.network
Documentation: ./ENDPOINT_UPDATE.md
Worker Guide: ./WORKER_GUIDE.md
Production Guide: ./PRODUCTION_READY.md

================================================================================
